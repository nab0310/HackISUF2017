<!DOCTYPE html>
<html lang="en">
<head>
  <title>Isolation Cube</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <link href="main.css" rel="stylesheet" type="text/css">
</head>
<body id="home" data-spy="scroll" data-target=".navbar" data-offset="60">

<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container">
        <div class="navbar navbar-header text-right">
            <!-- Condensed menu displays on mobile -->
            <button type="button" class="navbar-toggle mobile-only" data-toggle="collapse" data-target="#myNavbar" style="display:inline, hide;">
                <span style="float:left;"><strong>MENU &nbsp;</strong></span>
                <span class="glyphicon glyphicon-menu-hamburger" style="float:right; font-size:1.2em"></span>
            </button>
            <ul class="nav navbar-brand navbar-left">
                <li>Who's in the cube!?</li>
            </ul>
        </div>
        <div class="collapse navbar-collapse" id="myNavbar">
            <ul class="nav navbar-nav navbar-right">
                <!-- Need toggle and target to collapse correctly on mobile -->
                <li><a data-toggle="collapse" data-target=".navbar-collapse.in" href="index.html">HOME</a></li>
                <li><a data-toggle="collapse" data-target=".navbar-collapse.in" href="about.html">ABOUT</a></li>
                <li class="active"><a data-toggle="collapse" data-target=".navbar-collapse.in" href="#">COMMANDS</a></li>
                <!-- <li><a data-toggle="collapse" data-target=".navbar-collapse.in" href="polls.html">PAST POLLS</a></li> -->
                <li><a data-toggle="collapse" data-target=".navbar-collapse.in" href="https://github.com/nab0310/HackISUF2017" target="_blank">GITHUB</a></li>
                <li><a data-toggle="collapse" data-target=".navbar-collapse.in" href="contact.html">CONTACT</a></li>
            </ul>
        </div>
    </div>
</nav>
<br><br><br>
<div class="container-fluid">
  <div class="row content">
    <div class="col-sm-3 sidenav">
      <br>
      <h4 class="center">Current Top 10</h4>
      <table id="currentTop" style="width:100%" class="table table-striped table-condensed table-bordered">
        <caption align="bottom">Expires: <span id="expireTime">10min</span></caption>
        <tr>
            <th>ID</th>
            <th>Request</th>
            <th>Votes</th>
        </tr>
      </table>
      <hr>

      <!-- Live Twitter Feed -->
      <a class="twitter-timeline"  href="https://twitter.com/search?q=ProjectCube1" data-widget-id="921776789390798848">Tweets about ProjectCube1</a>
      <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';
      if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";
      fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");
      </script>
    </div>

    <div class="col-sm-9">
        <div class="page-header">
            <h2>Twitter Commands</h2>
        </div>
        <div id="info">
            <p>
                Below are all of the possible twitter commands and their descriptions.<br>
                Send commands in a dm to the account
                <a href="https://twitter.com/ProjectCube1?lang=en" target="_blank">@ProjectCube1</a>
                to enter new submissions or to vote. *Must follow and be followed by account to dm

                <br><br>
                <table style="width:100%" class="table table-striped table-condensed table-bordered">
                    <tr>
                        <th>Command</th>
                        <th>Parameters</th>
                        <th>Description</th>
                    </tr>
                    <tr>
                        <td>!vote</td>
                        <td>&lt; ID &gt; &lt; NumVotes &gt;</td>
                        <td>Votes for the suggestion with corresponding id the number of times input (limit 3)</td>
                    </tr>
                    <tr>
                        <td>!top</td>
                        <td></td>
                        <td>Returns the top 5 commands at the current time</td>
                    </tr>
                    <tr>
                        <td>!help</td>
                        <td></td>
                        <td>Replies with the help menu</td>
                    </tr>
                    <tr>
                        <td>!cmd</td>
                        <td>&lt; cmdString &gt;</td>
                        <td>Enters a new suggestion into the running</td>
                    </tr>
                </table>
            </p>
        </div>
        <hr>
      
    </div>
  </div>
</div>

<footer class="container-fluid">
    <p>HackISU Fall 2017: A short weekend project</p>
</footer>

<script>
    $(document).ready(function(){
        $.ajax({
            url: "/getTop"
        }).done(function(data){
            //put data into table
            //var data = json.parse(returnData);

            console.log(data);
            var i;
            for(i=0; i < data.length; i++){
                $("#currentTop").append($('<tr>')
                    .append($('<td>')
                    .text(data[i].UUID)
                    )
                    .append($('<td>')
                    .text(data[i].text)
                    )
                    .append($('<td>')
                    .text(data[i].votes)
                    )
                );
            }
        });
    });
</script>

</body>
</html>
